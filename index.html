<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>九十九顶毡房优惠</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.cn/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.cn/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.cn/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    
    <!-- <style>
        .item {
            display: flex;
            flex-direction:row;
            justify-content:flex-start;
            align-items:flex-start;
            height: 20%;
        }

    </style> -->

    <script>
        calc = function ()
        {
            var couponCount = parseInt(parseInt(document.getElementById("couponCount").value) / 50) * 50;
            document.getElementById("couponCount").value=couponCount;
            var location = document.getElementById("privateRoom").checked ? "包间" : "大厅";
           
            // 返券
            var returnCoupon = 0;
            tmpCouponCount = parseInt(couponCount / 100) * 100;
            if (location === '大厅') {
                returnCoupon = tmpCouponCount * 0.8;
                returnCoupon = returnCoupon > 480 ? 480 : returnCoupon;
            } else {
                returnCoupon = tmpCouponCount * 0.5;
                returnCoupon = returnCoupon > 1000 ? 1000 : returnCoupon;
            }
            document.getElementById("returnCoupon").value=returnCoupon;

            // 押金
            var deposit = returnCoupon * 0.4;
            document.getElementById("deposit").value = deposit;

            // 券费
            var couponDiff = couponCount - returnCoupon;
            var money = parseInt(couponDiff * 0.47);
            var cost = parseInt(couponDiff * 0.25);
            var money = money > cost + 55 ? money : cost + 55;
            document.getElementById("money").value=money;

            var des1 = couponCount + "的券，在"+location+"使用，费用"+money+"，返券"+returnCoupon+"，押金"+deposit+"。";
            var des2 = "你在闲鱼建一个"+returnCoupon+"返券，"+deposit+"元的商品，我拍一下。";
            var des3 = "我在闲鱼建一个"+couponCount+"券，"+(money+deposit)+"元的商品，你拍一下。";
            var des4 = "我收到你的返券，我们同时确认两笔交易。";
            var des5 = "双向确保，比较公平。";
            var des6 = "（策略都算好了就不要跟我讲价了吧，已经是底价，否则建议看看市面上有没有更加合适你的价格，谢谢你~）";
            document.getElementById("des").innerHTML=des1+des2+des3+des4+des5+des6;
        }
    </script>


    <div style="padding: 20px;">
      <!-- 注意事项 -->
      <div class="row">
        <div class="col-md-6">
          <p class="bg-success">
            <ol>
              <li>
                <p class="bg-danger">
                  用完券后，商家给你新返的券不能自留，需要全邮给我，返多少邮多少。如果确实需要自留，请联系我另算价格
                </p>
              </li>
              <li>
                <p class="bg-danger">
                  本券仅限用于北京九十九顶毡房餐饮消费区，午餐散台，包间都可使用，晚餐仅限散台使用
                </p>
              </li>
              <li>
                <p class="bg-danger">
                  本券法定节假日不可使用(法定节假日指中秋节、国庆节等，不包括普通周末)，如果对具体哪一天是否算法定节假日不清楚，请联系商家
                </p>
              </li>
              <li>
                <p class="bg-danger">
                使用本券时，不得超过当餐消费菜品总额的50%
               </p>
              </li>

              <li>
                <p class="bg-info">
                 现场消费时，如果买的券不够可以叫闪送给你再送几张，应该能再节省点
                </p>
              </li>
              <li>
                <p class="bg-info">
                其他疑问拨打商家电话：010-62991888（清河店），010-68166999（阜石店）
                </p>
              </li>
              <li>
                <p class="bg-warning">
                  本券不可用于烟、酒消费，不兑换现金、不找零、不开发票
                </p>
              </li>
              <li>
                <p class="bg-warning">
                本券不可与其他优惠同时使用，限堂食不打包
                </p>
              </li>
            </ol>
          </p>
        </div>   
      </div>
      
      <div class="row" style="padding-top: 20px;">
        <div class="col-md-1">
            <label>券数</label> 
        </div>
        <div class="col-md-2">
          <input type="number" class="form-control" id= "couponCount" value="1000">
        </div>
        <div class="col-md-1">
          <label>返券</label> 
        </div>
        <div class="col-md-2">
          <fieldset disabled>
            <input type="number" class="form-control" id= "returnCoupon">
          </fieldset>
        </div>
      </div>
      
      <div class="row" style="padding-top: 20px;">
        <div class="col-md-1">
          <label>位置</label>
        </div>
        <div class="col-md-1">
          <label class="radio-inline">
            <input type="radio" checked="checked" name="location" id="privateRoom">  包间
        </label>
        </div>
        <div class="col-md-1">
          <label class="radio-inline">
            <input type="radio" name="location">  大厅
        </label>
        </div>
        <div class="col-md-1">
          <label>费用</label> 
        </div>
        <div class="col-md-2">
          <fieldset disabled>
            <input type="number" class="form-control" id= "money">
          </fieldset>
        </div>
      </div>
      
      <div class="row" style="padding-top: 20px;">
        <div class="col-md-1">
          <label>押金</label> 
        </div>
        <div class="col-md-2">
          <fieldset disabled>
            <input type="number" class="form-control" id= "deposit">
          </fieldset>
        </div>
        <div class="col-md-1">
          <button class="btn btn-primary" onclick="calc()">计算</button>
        </div>
      </div>
      
      <div class="row" style="padding-top: 20px;">
        <div class="col-md-1">
          <label>方式</label> 
        </div>
        <div class="col-md-5">
          <p class="text-success" id="des">
            点击计算生成交易方式...
          </p>
        </div>
      </div>      
    </div>




  </body>
</html>